---
layout: post
title: "Leetcode:454.四数相加 II"
subtitle: ""
date: 2025-09-11
author: "Can"
header-img: "img/italy.jpg"
tags: ["Leetcode", "Medium", "C++", "Hash-Table"]
---

Leetcode题目链接：[454. 四数相加 II](https://leetcode.cn/problems/4sum-ii/description/)

## Problem Description
给你四个整数数组 `nums1、nums2、nums3 和 nums4`，数组长度都是`n` ，请你计算有多少个元组 `(i, j, k, l)` 能满足：
* `0 <= i, j, k, l < n`
* `nums1[i] + nums2[j] + nums3[k] + nums4[l] == 0`

## Case
```
示例一
输入：nums1 = [1,2], nums2 = [-2,-1], nums3 = [-1,2], nums4 = [0,2]
输出：2
解释：
两个元组如下：
1. (0, 0, 0, 1) -> nums1[0] + nums2[0] + nums3[0] + nums4[1] = 1 + (-2) + (-1) + 2 = 0
2. (1, 1, 0, 0) -> nums1[1] + nums2[1] + nums3[0] + nums4[0] = 2 + (-1) + (-1) + 0 = 0

示例二
输入：nums1 = [0], nums2 = [0], nums3 = [0], nums4 = [0]
输出：1

提示
n == nums1.length
n == nums2.length
n == nums3.length
n == nums4.length
1 <= n <= 200
-2的28次 <= nums1[i], nums2[i], nums3[i], nums4[i] <= 2的28次
```

## Solution
**哈希表（map形式）:这里使用map容器的原因是此题需要使用key对应的value值存放某个组合结果出现的次数，这是set无法做到的，由于数据本身的范围太大，也无法使用数组**
1. 定义unordered_map<int,int> map用于存放前两个数组中各种数 组合相加结果出现的次数
2. 定义count作为最后的组合次数结果
3. 两层for循环遍历 nums1 和 nums2 数组，将 num1 + num2的值作为key将对应的value值加一
4. 两层for循环遍历 nums3 和 nums4 数组
    * 计算target = 0 - (num3 + num4) ，target + num1 + num2 = 0，满足num1 + num2 + num3 + num4 = 0
    * 在map中寻找对应的值是否存在，存在则将对应的value值加到count，即满足的四元组次数
5. 返回count

## Code
```cpp
class Solution {
public:
    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {
        unordered_map<int,int> map;
        int count = 0;
        for(int num1:nums1) {
            for(int num2 : nums2) {
                map[num1 + num2]++;
            }
        }
        for(int num3 : nums3) {
            for(int num4 : nums4) {
                int target = 0 - (num3 + num4);
                if(map.find(target) != map.end()){
                    count += map[target];
                }
            }
        }
        return count;
    }
};
```

## Result
![result](/img/leetcode/454.png)
