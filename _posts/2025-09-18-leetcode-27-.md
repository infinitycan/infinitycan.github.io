---
layout: post
title: "LeetCode: 27. 移除元素"
subtitle: ""
date: 2025-09-18
author: "Can"
header-img: "img/foliage.jpg"
tags: ["Leetcode", "Two-Points Algorithm", "STL", "Array", "C++"]
---

Leetcode题目链接：[27. 移除元素](https://leetcode.cn/problems/remove-element/description/)

## Problem Description
给你一个数组 `nums` 和一个值 `val`，你需要 **原地** 移除所有数值等于 `val` 的元素，并返回移除后数组的新长度。

不要使用额外的数组空间，你必须仅使用 `O(1)` 额外空间并 **原地** 修改输入数组。

元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。

## Case
```
示例 1：
输入：nums = [3,2,2,3], val = 3
输出：2, nums = [2,2]
解释：函数应该返回新的长度 2, 并且 nums 中的前两个元素均为 2。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = [2,2,3,3] 或 nums = [2,2,0,0]，也会被视作正确答案。

示例 2：
输入：nums = [0,1,2,2,3,0,4,2], val = 2
输出：5, nums = [0,1,3,0,4]
解释：函数应该返回新的长度 5, 并且 nums 中的前五个元素为 0, 1, 3, 0, 4。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。
```

## Solution
1. 快慢指针
    * 定义fast指针，fast指针指向下一个有效元素的位置（即下一个不等于val的元素位置）
    * 定义slow指针，slow指针指向当前替换元素的位置（即实现元素覆盖，当fast与slow相等时实现覆盖=未改动元素）
    * 当fast指针指向元素不等于val时，执行nums[ slow ] = nums[ fast ]和slow++语句
    * fast指针跳出循环时，数组已完成指定元素的剔除，slow指针即为当前有限数组元素个数的大小
2. 迭代器删除元素
    * 使用iterator迭代器和erase()方法实现指定元素的删除
    * 注意删除当前位置元素的时候循环变量需要减一
    * 完成循环后返回数组大小即可

## Code
```cpp
//快慢指针写法
class Solution {
public:
    int removeElement(vector<int>& nums, int val) {
		int fast,slow = 0;
        for(fast = 0; fast < nums.size(); fast++){
            if(nums[fast] != val){
                nums[slow++] = nums[fast];
            }
        }
        return slow;
    }
};

//迭代器删除元素写法
class Solution {
public:
    int removeElement(vector<int>& nums, int val) {
		int i = 0;
		while (i < nums.size())
		{
			if (nums[i] == val)
			{
				vector<int>::iterator it = nums.begin() + i;
				nums.erase(it);
				i--;
			}
			i++;
		}
		return nums.size();
    }
};
```

## Result
![27-1.png](/img/leetcode/27-1.png)
![27-2.png](/img/leetcode/27-2.png)

## Official Code
```cpp
class Solution {
public:
    int removeElement(vector<int>& nums, int val) {
        int left = 0, right = nums.size();
        while (left < right) {
            if (nums[left] == val) {
                nums[left] = nums[right - 1];
                right--;
            } else {
                left++;
            }
        }
        return left;
    }
};

作者：力扣官方题解
链接：https://leetcode.cn/problems/remove-element/solutions/730203/yi-chu-yuan-su-by-leetcode-solution-svxi/
来源：力扣（LeetCode）
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
```
